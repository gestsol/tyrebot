<nav class="menu">
  <button matRipple class="menu__close" (click)="close()">
    <mat-icon>clear</mat-icon>
  </button>
	<ul class="menu__lvl1">
	  <li *ngFor="let lvl1 of menu; let i = index;" [class]="lvl1.classes">
      <ng-container *ngIf="!lvl1.inactive">
        <ng-container *ngTemplateOutlet="menuItem, context: { $implicit: lvl1 }"></ng-container>
        <div *ngIf="lvl1.list" class="menu__lvl2" [ngClass]="{'open': lvl1.open}">
          <ul class="menu__lvl2__container">
            <ng-container *ngFor="let lvl2 of lvl1.list">
              <li *ngIf="!lvl2.inactive">
                <ng-container *ngTemplateOutlet="menuItem, context: { $implicit: lvl2 }"></ng-container>
              </li>
            </ng-container>
          </ul>
        </div>
      </ng-container>
    </li>
    <li class="menu__logout">
      <span style="cursor: pointer;" (click)="logout()">
        <ion-icon name="log-in"></ion-icon>
        <span>Salir</span>
      </span>
    </li>
	</ul>
</nav>

<ng-template #menuItem let-item>
  <a [routerLink]="item.route" [ngClass]="{'item-active': item.active}" (click)="selectMenuItem(item)">
    {{item.name}}
  </a>
</ng-template>
